-- MySQL Script generated by MySQL Workbench
-- Fri Jan 24 17:48:57 2025
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `mydb` DEFAULT CHARACTER SET utf8mb3 ;
USE `mydb` ;

-- -----------------------------------------------------
-- Table `mydb`.`DM_USUARIO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`DM_USUARIO` (
  `USU_CPF` VARCHAR(25) NOT NULL,
  `USU_NOME` VARCHAR(45) NOT NULL,
  `USU_EMAIL` VARCHAR(45) NOT NULL,
  `USU_TELEFONE` VARCHAR(45) NOT NULL,
  `USU_SENHA` VARCHAR(90) NOT NULL,
  `USU_SEXO` VARCHAR(20) NOT NULL,
  `USU_TIPO` VARCHAR(20) NOT NULL,
  PRIMARY KEY (`USU_CPF`),
  UNIQUE INDEX `USU_CPF_UNIQUE` (`USU_CPF` ASC) VISIBLE,
  UNIQUE INDEX `USU_EMAIL_UNIQUE` (`USU_EMAIL` ASC) VISIBLE,
  UNIQUE INDEX `USU_TELEFONE_UNIQUE` (`USU_TELEFONE` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `mydb`.`DM_PONTO_TURISTICO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`DM_PONTO_TURISTICO` (
  `PTT_ID` INT NOT NULL AUTO_INCREMENT,
  `PTT_NAME` VARCHAR(45) NOT NULL,
  `PTT_INFORMACOES` VARCHAR(45) NOT NULL,
  `DM_USU_CPF` VARCHAR(25) NOT NULL,
  PRIMARY KEY (`PTT_ID`),
  UNIQUE INDEX `POT_NOME_UNIQUE` (`PTT_ID` ASC) VISIBLE,
  INDEX `fk_DM_PONTO_TURISTICO_DM_USUARIO1_idx` (`DM_USU_CPF` ASC) VISIBLE,
  CONSTRAINT `fk_DM_PONTO_TURISTICO_DM_USUARIO1`
    FOREIGN KEY (`DM_USU_CPF`)
    REFERENCES `mydb`.`DM_USUARIO` (`USU_CPF`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `mydb`.`DM_ENDERECO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`DM_ENDERECO` (
  `END_ID` INT NOT NULL AUTO_INCREMENT,
  `END_CIDADE` VARCHAR(45) NOT NULL,
  `END_PAIS` VARCHAR(45) NOT NULL,
  `END_ESTADO` VARCHAR(45) NOT NULL,
  `END_RUA` VARCHAR(45) NOT NULL,
  `DM_PTT_ID` INT NOT NULL,
  PRIMARY KEY (`END_ID`),
  UNIQUE INDEX `END_ID_UNIQUE` (`END_ID` ASC) VISIBLE,
  INDEX `fk_DM_ENDERECO_DM_PONTO_TURISTICO1_idx` (`DM_PTT_ID` ASC) VISIBLE,
  CONSTRAINT `fk_DM_ENDERECO_DM_PONTO_TURISTICO1`
    FOREIGN KEY (`DM_PTT_ID`)
    REFERENCES `mydb`.`DM_PONTO_TURISTICO` (`PTT_ID`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `mydb`.`DM_GUIA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`DM_GUIA` (
  `GUI_ID` INT NOT NULL AUTO_INCREMENT,
  `GUI_TEMPO_ATUACAO` VARCHAR(20) NOT NULL,
  `GUI_VALOR_SERVICO` DECIMAL(9,2) NOT NULL,
  `DM_USU_CPF` VARCHAR(25) NULL DEFAULT NULL,
  PRIMARY KEY (`GUI_ID`),
  UNIQUE INDEX `GUI_ID_UNIQUE` (`GUI_ID` ASC) VISIBLE,
  UNIQUE INDEX `DM_USU_CPF_UNIQUE` (`DM_USU_CPF` ASC) VISIBLE,
  INDEX `fk_DM_GUIA_DM_USUARIO1_idx` (`DM_USU_CPF` ASC) VISIBLE,
  CONSTRAINT `fk_DM_GUIA_DM_USUARIO1`
    FOREIGN KEY (`DM_USU_CPF`)
    REFERENCES `mydb`.`DM_USUARIO` (`USU_CPF`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `mydb`.`DM_REGIAO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`DM_REGIAO` (
  `REG_ID` INT NOT NULL AUTO_INCREMENT,
  `REG_NOME` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`REG_ID`),
  UNIQUE INDEX `REG_ID_UNIQUE` (`REG_ID` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `mydb`.`DM_GUI_REG`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`DM_GUI_REG` (
  `DM_GUI_REG_ID` INT NOT NULL AUTO_INCREMENT,
  `DM_REG_ID` INT NOT NULL,
  `DM_GUI_ID` INT NOT NULL,
  PRIMARY KEY (`DM_GUI_REG_ID`),
  INDEX `fk_DM_REGIAO_has_DM_GUIA_DM_GUIA1_idx` (`DM_GUI_ID` ASC) VISIBLE,
  INDEX `fk_DM_REGIAO_has_DM_GUIA_DM_REGIAO1_idx` (`DM_REG_ID` ASC) VISIBLE,
  CONSTRAINT `fk_DM_REGIAO_has_DM_GUIA_DM_GUIA1`
    FOREIGN KEY (`DM_GUI_ID`)
    REFERENCES `mydb`.`DM_GUIA` (`GUI_ID`),
  CONSTRAINT `fk_DM_REGIAO_has_DM_GUIA_DM_REGIAO1`
    FOREIGN KEY (`DM_REG_ID`)
    REFERENCES `mydb`.`DM_REGIAO` (`REG_ID`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `mydb`.`DM_TIPO_PONTO_TURISTICO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`DM_TIPO_PONTO_TURISTICO` (
  `TPT_ID` INT NOT NULL AUTO_INCREMENT,
  `TPT_NOME` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`TPT_ID`),
  UNIQUE INDEX `TPT_ID_UNIQUE` (`TPT_ID` ASC) VISIBLE,
  UNIQUE INDEX `TPT_NOME_UNIQUE` (`TPT_NOME` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `mydb`.`DM_GUI_TPT`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`DM_GUI_TPT` (
  `DM_GUI_TPT` INT NOT NULL AUTO_INCREMENT,
  `DM_GUI_ID` INT NOT NULL,
  `DM_TPT_ID` INT NOT NULL,
  PRIMARY KEY (`DM_GUI_TPT`),
  INDEX `fk_DM_GUIA_has_DM_TIPO_PONTO_TURISTICO_DM_TIPO_PONTO_TURIST_idx` (`DM_TPT_ID` ASC) VISIBLE,
  INDEX `fk_DM_GUIA_has_DM_TIPO_PONTO_TURISTICO_DM_GUIA1_idx` (`DM_GUI_ID` ASC) VISIBLE,
  CONSTRAINT `fk_DM_GUIA_has_DM_TIPO_PONTO_TURISTICO_DM_GUIA1`
    FOREIGN KEY (`DM_GUI_ID`)
    REFERENCES `mydb`.`DM_GUIA` (`GUI_ID`),
  CONSTRAINT `fk_DM_GUIA_has_DM_TIPO_PONTO_TURISTICO_DM_TIPO_PONTO_TURISTICO1`
    FOREIGN KEY (`DM_TPT_ID`)
    REFERENCES `mydb`.`DM_TIPO_PONTO_TURISTICO` (`TPT_ID`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `mydb`.`DM_IMAGEM_PONTO_TURISTICO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`DM_IMAGEM_PONTO_TURISTICO` (
  `DM_ID` INT NOT NULL AUTO_INCREMENT,
  `DM_IMAGEM` VARCHAR(150) NOT NULL,
  `DM_PTT_ID` INT NOT NULL,
  PRIMARY KEY (`DM_ID`),
  INDEX `fk_DM_IMAGEM_PONTO_TURISTICO_DM_PONTO_TURISTICO1_idx` (`DM_PTT_ID` ASC) VISIBLE,
  CONSTRAINT `fk_DM_IMAGEM_PONTO_TURISTICO_DM_PONTO_TURISTICO1`
    FOREIGN KEY (`DM_PTT_ID`)
    REFERENCES `mydb`.`DM_PONTO_TURISTICO` (`PTT_ID`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `mydb`.`DM_PTT_TPT`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`DM_PTT_TPT` (
  `DM_PTT_TPT_ID` INT NOT NULL AUTO_INCREMENT,
  `DM_PTT_ID` INT NOT NULL,
  `DM_TPT_ID` INT NOT NULL,
  PRIMARY KEY (`DM_PTT_TPT_ID`),
  INDEX `fk_DM_PONTO_TURISTICO_has_DM_TIPO_PONTO_TURISTICO_DM_TIPO_P_idx` (`DM_TPT_ID` ASC) VISIBLE,
  INDEX `fk_DM_PONTO_TURISTICO_has_DM_TIPO_PONTO_TURISTICO_DM_PONTO__idx` (`DM_PTT_ID` ASC) VISIBLE,
  CONSTRAINT `fk_DM_PONTO_TURISTICO_has_DM_TIPO_PONTO_TURISTICO_DM_PONTO_TU1`
    FOREIGN KEY (`DM_PTT_ID`)
    REFERENCES `mydb`.`DM_PONTO_TURISTICO` (`PTT_ID`),
  CONSTRAINT `fk_DM_PONTO_TURISTICO_has_DM_TIPO_PONTO_TURISTICO_DM_TIPO_PON1`
    FOREIGN KEY (`DM_TPT_ID`)
    REFERENCES `mydb`.`DM_TIPO_PONTO_TURISTICO` (`TPT_ID`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `mydb`.`DM_ROTEIRO_TURISTICO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`DM_ROTEIRO_TURISTICO` (
  `RTT_ID` INT NOT NULL AUTO_INCREMENT,
  `RTT_NOME` VARCHAR(45) NOT NULL,
  `RTT_DISPONIBILIDADE` VARCHAR(10) NOT NULL,
  `RTT_DESCRICAO` VARCHAR(250) NOT NULL,
  `DM_ROTEIRO_TURISTICOcol` VARCHAR(45) NULL DEFAULT NULL,
  `DM_USUARIO_USU_CPF` VARCHAR(25) NOT NULL,
  PRIMARY KEY (`RTT_ID`),
  UNIQUE INDEX `RTT_ID_UNIQUE` (`RTT_ID` ASC) VISIBLE,
  INDEX `fk_DM_ROTEIRO_TURISTICO_DM_USUARIO1_idx` (`DM_USUARIO_USU_CPF` ASC) VISIBLE,
  CONSTRAINT `fk_DM_ROTEIRO_TURISTICO_DM_USUARIO1`
    FOREIGN KEY (`DM_USUARIO_USU_CPF`)
    REFERENCES `mydb`.`DM_USUARIO` (`USU_CPF`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `mydb`.`DM_RTT_PTT`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`DM_RTT_PTT` (
  `DM_RTT_PTT_ID` INT NOT NULL AUTO_INCREMENT,
  `DM_PTT_ID` INT NOT NULL,
  `DM_RTT_ID` INT NOT NULL,
  PRIMARY KEY (`DM_RTT_PTT_ID`),
  INDEX `fk_DM_PONTO_TURISTICO_has_DM_ROTEIRO_TURISTICO_DM_ROTEIRO_T_idx` (`DM_RTT_ID` ASC) VISIBLE,
  INDEX `fk_DM_PONTO_TURISTICO_has_DM_ROTEIRO_TURISTICO_DM_PONTO_TUR_idx` (`DM_PTT_ID` ASC) VISIBLE,
  CONSTRAINT `fk_DM_PONTO_TURISTICO_has_DM_ROTEIRO_TURISTICO_DM_PONTO_TURIS1`
    FOREIGN KEY (`DM_PTT_ID`)
    REFERENCES `mydb`.`DM_PONTO_TURISTICO` (`PTT_ID`),
  CONSTRAINT `fk_DM_PONTO_TURISTICO_has_DM_ROTEIRO_TURISTICO_DM_ROTEIRO_TUR1`
    FOREIGN KEY (`DM_RTT_ID`)
    REFERENCES `mydb`.`DM_ROTEIRO_TURISTICO` (`RTT_ID`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `mydb`.`DM_VIAJANTE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`DM_VIAJANTE` (
  `VIA_ID` INT NOT NULL AUTO_INCREMENT,
  `DM_USU_CPF` VARCHAR(25) NULL DEFAULT NULL,
  PRIMARY KEY (`VIA_ID`),
  UNIQUE INDEX `VIA_ID_UNIQUE` (`VIA_ID` ASC) VISIBLE,
  UNIQUE INDEX `DM_USU_CPF_UNIQUE` (`DM_USU_CPF` ASC) VISIBLE,
  INDEX `fk_DM_VIAJANTE_DM_USUARIO_idx` (`DM_USU_CPF` ASC) VISIBLE,
  CONSTRAINT `fk_DM_VIAJANTE_DM_USUARIO`
    FOREIGN KEY (`DM_USU_CPF`)
    REFERENCES `mydb`.`DM_USUARIO` (`USU_CPF`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `mydb`.`DM_VIA_GUI`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`DM_VIA_GUI` (
  `DM_VIA_GUI_ID` INT NOT NULL AUTO_INCREMENT,
  `DM_VIA_ID` INT NOT NULL,
  `DM_GUI_ID` INT NOT NULL,
  PRIMARY KEY (`DM_VIA_GUI_ID`),
  INDEX `fk_DM_VIAJANTE_has_DM_GUIA_DM_GUIA1_idx` (`DM_GUI_ID` ASC) VISIBLE,
  INDEX `fk_DM_VIAJANTE_has_DM_GUIA_DM_VIAJANTE1_idx` (`DM_VIA_ID` ASC) VISIBLE,
  CONSTRAINT `fk_DM_VIAJANTE_has_DM_GUIA_DM_GUIA1`
    FOREIGN KEY (`DM_GUI_ID`)
    REFERENCES `mydb`.`DM_GUIA` (`GUI_ID`),
  CONSTRAINT `fk_DM_VIAJANTE_has_DM_GUIA_DM_VIAJANTE1`
    FOREIGN KEY (`DM_VIA_ID`)
    REFERENCES `mydb`.`DM_VIAJANTE` (`VIA_ID`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `mydb`.`DM_VIA_TPT`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`DM_VIA_TPT` (
  `DM_VIA_TPT_ID` INT NOT NULL AUTO_INCREMENT,
  `DM_TPT_ID` INT NOT NULL,
  `DM_VIA_ID` INT NOT NULL,
  PRIMARY KEY (`DM_VIA_TPT_ID`),
  INDEX `fk_DM_TIPO_PONTO_TURISTICO_has_DM_VIAJANTE_DM_VIAJANTE1_idx` (`DM_VIA_ID` ASC) VISIBLE,
  INDEX `fk_DM_TIPO_PONTO_TURISTICO_has_DM_VIAJANTE_DM_TIPO_PONTO_TU_idx` (`DM_TPT_ID` ASC) VISIBLE,
  CONSTRAINT `fk_DM_TIPO_PONTO_TURISTICO_has_DM_VIAJANTE_DM_TIPO_PONTO_TURI1`
    FOREIGN KEY (`DM_TPT_ID`)
    REFERENCES `mydb`.`DM_TIPO_PONTO_TURISTICO` (`TPT_ID`),
  CONSTRAINT `fk_DM_TIPO_PONTO_TURISTICO_has_DM_VIAJANTE_DM_VIAJANTE1`
    FOREIGN KEY (`DM_VIA_ID`)
    REFERENCES `mydb`.`DM_VIAJANTE` (`VIA_ID`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
